<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C/DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
  <head>
    <meta http-equiv = "Content-Type" content = "text/html; charset=utf-8" />
    <meta http-equiv = "Content-Style-Type" content = "text/css" />
    <meta http-equiv = "Content-Script-Type" content = "text/javascript" />
  </head>
  <body>
    <h1>sworks.mqo.mikoto_motion</h1>
    <!-- Generated by Ddoc from src\sworks\mqo\mikoto_motion.d -->
<p class="summary-sec">BoneSystem を動かす。
</p>

<span class="summary-header-sec version-sec">0.0011(dmd2.060)
</span><br />


<span class="summary-header-sec date-sec">2012-Aug-16 02:48:01
</span><br />


<span class="summary-header-sec authors-sec">KUMA
</span><br />


<span class="summary-header-sec license-sec">CC0</span><br />



<dl class="module-members-sec"><dt><span class="decl">class <span class="psymbol">ActorMotion</span>
;
</span></dt>

<dd><p class="summary-sec">ある BoneSystem に対する一連のモーション</p>


<dl class="members-sec"><dt><span class="decl">TranslateMotion <span class="psymbol">world_translate</span>
;
<br />
RotateMotion <span class="psymbol">world_rotate</span>
;
</span></dt>

<dd><p class="summary-sec">キャラクタのワールド座標を決定する。</p>


</dd>
<dt><span class="decl">TranslateMotion <span class="psymbol">translation</span>
;
</span></dt>

<dd><p class="summary-sec">ルートボーンのみ平行移動がある。</p>


</dd>
<dt><span class="decl">RotateMotion[] <span class="psymbol">rotation</span>
;
</span></dt>

<dd><p class="summary-sec">ルートボーン以外は回転運動のみ。</p>


</dd>
<dt><span class="decl">float <span class="psymbol">original_duration</span>
;
</span></dt>

<dd><p class="summary-sec">一連のモーションにかかる時間(sec)</p>


</dd>
<dt><span class="decl">this(float <span class="param">dur</span>
, TranslateMotion <span class="param">wt</span>
, RotateMotion <span class="param">wr</span>
, TranslateMotion <span class="param">tm</span>
, RotateMotion[] <span class="param">rm</span>
);
</span></dt>

<dd><br />
<br />

</dd>
<dt><span class="decl">void <span class="psymbol">attach</span>
(BoneSystem <span class="param">bs</span>
);
</span></dt>

<dd><p class="summary-sec">BoneSystem にモーションを適用する。</p>


</dd>
</dl>

</dd>
<dt><span class="decl">ActorMotion <span class="psymbol">motionChunkToActorMotion</span>
(MotionChunk <span class="param">chunk</span>
, string <span class="param">target_actor</span>
, ref BoneSet <span class="param">bs</span>
, string delegate(immutable(byte)[]) <span class="param">toUTF8</span>
);
</span></dt>

<dd><p class="summary-sec">モーションチャンクから ActorMotion を得る。
</p>

<b>Params:</b><br />
<table border="1" frame="void" rules="rows" class="params"><tr><td class="params_id">string <span class="param">target_actor</span>
</td>

<td>対象となるキャラの名前。これ以外のキャラ用のモーションは無視される。</td></tr>
</table><br />



</dd>
<dt><span class="decl">class <span class="psymbol">MotionState</span>
;
</span></dt>

<dd><p class="summary-sec">現在のモーションの状態を格納する。</p>


<dl class="members-sec"><dt><span class="decl">ActorMotion <span class="psymbol">motion</span>
;
</span></dt>

<dd><p class="summary-sec">モーション。</p>


</dd>
<dt><span class="decl">bool <span class="psymbol">is_stop</span>
;
</span></dt>

<dd><p class="summary-sec">停止状態にあるかどうか。</p>


</dd>
<dt><span class="decl">float <span class="psymbol">current_frame</span>
;
</span></dt>

<dd><p class="summary-sec">現在何フレーム目か。[ 0.0, 1.0 ] で、1.0 でモーション終わり。</p>


</dd>
<dt><span class="decl">float <span class="psymbol">speed</span>
;
</span></dt>

<dd><p class="summary-sec">1ミリ秒で current_frame をいくら進めるか。</p>


</dd>
<dt><span class="decl">MotionState <span class="psymbol">next</span>
;
</span></dt>

<dd><p class="summary-sec">次のモーションの予定。</p>


</dd>
<dt><span class="decl">float <span class="psymbol">update</span>
(uint <span class="param">interval</span>
);
</span></dt>

<dd><p class="summary-sec">current_frame を更新する。<br />

</p>

<b>Params:</b><br />
<table border="1" frame="void" rules="rows" class="params"><tr><td class="params_id">uint <span class="param">interval</span>
</td>

<td>何ミリ秒分更新するか。</td></tr>
</table><br />


<b>Returns:</b><br />

現在のフレーム。<br />
<br />


</dd>
</dl>

</dd>
<dt><span class="decl">MotionState <span class="psymbol">insertMotion</span>
(MotionState <span class="param">m1</span>
, ActorMotion <span class="param">a2</span>
, float <span class="param">f2s</span>
 = 0, float <span class="param">f2e</span>
 = 1, float <span class="param">speed</span>
 = 1, float <span class="param">connection</span>
 = 0.1);
</span></dt>

<dd><p class="summary-sec">モーションのあるフレームに、別のモーションを挿入する。</p>


</dd>
<dt><span class="decl">ActorMotion <span class="psymbol">generateMorphingMotion</span>
(ActorMotion <span class="param">a1</span>
, float <span class="param">f1</span>
, ActorMotion <span class="param">a2</span>
, float <span class="param">f2</span>
, float <span class="param">dur</span>
);
</span></dt>

<dd><p class="summary-sec">あるモーションのあるフレームから、別のモーションのあるフレームまで継げる。</p>


</dd>
</dl>


  </body>
</html>

