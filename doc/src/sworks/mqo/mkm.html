<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C/DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
  <head>
    <meta http-equiv = "Content-Type" content = "text/html; charset=utf-8" />
    <meta http-equiv = "Content-Style-Type" content = "text/css" />
    <meta http-equiv = "Content-Script-Type" content = "text/javascript" />
  </head>
  <body>
    <h1>sworks.mqo.mkm</h1>
    <!-- Generated by Ddoc from src\sworks\mqo\mkm.d -->
<p class='summary-sec'>Mikoto モーションファイルフォーマット .<span class='psymbol'>mkm</span> を読み込む。
</p>
<span class='summary-header-sec version-sec'>0.0001(dmd2.062)
</span><br />

<span class='summary-header-sec date-sec'>2013-Mar-27 03:45:29
</span><br />

<span class='summary-header-sec authors-sec'>KUMA
</span><br />

<span class='summary-header-sec license-sec'>CC0</span><br />


<dl class='module-members-sec'><dt><span class='decl'><a name="MKMotion"></a>class <span class='psymbol'>MKMotion</span>;
</span></dt>
<dd><p class='summary-sec'>.mkm の最外側</p>

<dl class='members-sec'><dt><span class='decl'><a name="MKMotion.HEADER"></a>string <span class='psymbol'>HEADER</span>;
</span></dt>
<dd><p class='summary-sec'>.mkm ファイルのヘッダにヒットする。</p>

</dd>
<dt><span class='decl'><a name="MKMotion.version_string"></a>string <span class='psymbol'>version_string</span>;
</span></dt>
<dd><p class='summary-sec'>現在は "2" が入るはず。</p>

</dd>
<dt><span class='decl'><a name="MKMotion.motion"></a>MotionChunk[jstring] <span class='psymbol'>motion</span>;
</span></dt>
<dd><p class='summary-sec'>モーションチャンク。</p>

</dd>
</dl>
</dd>
<dt><span class='decl'><a name="MotionChunk"></a>class <span class='psymbol'>MotionChunk</span>: sworks.mqo.parser.INamed;
</span></dt>
<dd><p class='summary-sec'>モーションチャンク</p>

<dl class='members-sec'><dt><span class='decl'><a name="MotionChunk.name_data"></a>jstring <span class='psymbol'>name_data</span>;
</span></dt>
<dd><p class='summary-sec'>名前は、mksとmkmで、または階層によって意味が違うようである。</p>

</dd>
<dt><span class='decl'><a name="MotionChunk.motion"></a>MotionChunk[jstring] <span class='psymbol'>motion</span>;
</span></dt>
<dd><p class='summary-sec'>.mks ファイルでは MotionChunk は入れ子になる。<br />

 1階層目 -&gt; モーションの名前
 2階層目 -&gt; 対応するキャラクタ(3Dモデル)名</p>

</dd>
<dt><span class='decl'><a name="MotionChunk.vector"></a>VectorChunk[jstring] <span class='psymbol'>vector</span>;
</span></dt>
<dd><p class='summary-sec'>平行移動を記述する。<br />

 <span class='psymbol'>vector</span> チャンクと quaternion チャンクは必ずしも一対一で対応するものではなく、
 どちらか片方という場合もある。<br />
</p>

</dd>
<dt><span class='decl'><a name="MotionChunk.quaternion"></a>QuaternionChunk[jstring] <span class='psymbol'>quaternion</span>;
</span></dt>
<dd><p class='summary-sec'>ボーンの原点まわりの回転移動を記述する。<br />

 回転の初期位置は、ボーンのローカル座標の軸がワールド座標の軸と一致している状態であるようだ。<br />

 ここで、ボーンのローカル座標の軸とは、ボーンの斜辺の対角を原点とし、第二長辺をZ軸正の向きとし、
 最短辺と第二長辺の外積をX軸正の向きと定めると、うまくいくようだ。</p>

</dd>
</dl>
</dd>
<dt><span class='decl'><a name="VectorChunk"></a>class <span class='psymbol'>VectorChunk</span>: sworks.mqo.parser.INamed, sworks.mqo.parser.IOwnParser;
</span></dt>
<dd><p class='summary-sec'>ベクターチャンク</p>

<dl class='members-sec'><dt><span class='decl'><a name="VectorChunk.name_data"></a>jstring <span class='psymbol'>name_data</span>;
</span></dt>
<dd><p class='summary-sec'>ベクターチャンク名は対象とするボーンの名前の先頭に "j_" を付加したものの様だが、なぜなのかは分らない。</p>

</dd>
<dt><span class='decl'><a name="VectorChunk.class_data"></a>string <span class='psymbol'>class_data</span>;
</span></dt>
<dd><br />
<br />

</dd>
<dt><span class='decl'><a name="VectorChunk.member"></a>string <span class='psymbol'>member</span>;
</span></dt>
<dd><br />
<br />

</dd>
<dt><span class='decl'><a name="VectorChunk.endframe"></a>int <span class='psymbol'>endframe</span>;
</span></dt>
<dd><br />
<br />

</dd>
<dt><span class='decl'><a name="VectorChunk.curve"></a>string <span class='psymbol'>curve</span>;
</span></dt>
<dd><p class='summary-sec'>mkm 内で現れる場合と、mks 内で現れる場合で、型がちがうようである。</p>

</dd>
<dt><span class='decl'><a name="VectorChunk.translation"></a>fTraf[] <span class='psymbol'>translation</span>;
</span></dt>
<dd><p class='summary-sec'>各キーフレーム毎の平行移動の状態を示す。</p>

</dd>
</dl>
</dd>
<dt><span class='decl'><a name="QuaternionChunk"></a>class <span class='psymbol'>QuaternionChunk</span>: sworks.mqo.parser.INamed, sworks.mqo.parser.IOwnParser;
</span></dt>
<dd><p class='summary-sec'>クォータニオンチャンク</p>

<dl class='members-sec'><dt><span class='decl'><a name="QuaternionChunk.name_data"></a>jstring <span class='psymbol'>name_data</span>;
</span></dt>
<dd><br />
<br />

</dd>
<dt><span class='decl'><a name="QuaternionChunk.class_data"></a>string <span class='psymbol'>class_data</span>;
</span></dt>
<dd><br />
<br />

</dd>
<dt><span class='decl'><a name="QuaternionChunk.member"></a>string <span class='psymbol'>member</span>;
</span></dt>
<dd><br />
<br />

</dd>
<dt><span class='decl'><a name="QuaternionChunk.endframe"></a>int <span class='psymbol'>endframe</span>;
</span></dt>
<dd><br />
<br />

</dd>
<dt><span class='decl'><a name="QuaternionChunk.curve"></a>string <span class='psymbol'>curve</span>;
</span></dt>
<dd><br />
<br />

</dd>
<dt><span class='decl'><a name="QuaternionChunk.rotation"></a>fRotf[] <span class='psymbol'>rotation</span>;
</span></dt>
<dd><br />
<br />

</dd>
</dl>
</dd>
</dl>

  </body>
</html>

